"use strict";document.addEventListener("DOMContentLoaded",function(){var e=CONFIG.algolia,t=e.indexName,a=e.appID,s=e.apiKey,e=e.hits,s=instantsearch({indexName:t,searchClient:algoliasearch(a,s),searchFunction:function(e){document.querySelector(".search-input").value&&e.search()}});window.pjax&&s.on("render",function(){window.pjax.refresh(document.querySelector(".algolia-hits"))}),s.addWidgets([instantsearch.widgets.configure({hitsPerPage:e.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:CONFIG.i18n.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:".algolia-stats",templates:{text:function(e){e=CONFIG.i18n.hits_time.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS);return"<span>".concat(e,'</span>\n            <img src="').concat(CONFIG.images,'/logo-algolia-nebula-blue-full.svg" alt="Algolia">')}},cssClasses:{text:"search-stats"}}),instantsearch.widgets.hits({container:".algolia-hits",escapeHTML:!1,templates:{item:function(e){var t=e._highlightResult,a=t.title,s=t.excerpt,n=t.excerptStrip,t=t.contentStripTruncate,a='<a href="'.concat(e.permalink,'" class="search-result-title">').concat(a.value,"</a>"),n=s||n||t;return n&&n.value&&((t=document.createElement("div")).innerHTML=n.value,a+='<a href="'.concat(e.permalink,'"><p class="search-result">').concat(t.textContent.substr(0,100),"...</p></a>")),a},empty:function(e){return'<div class="algolia-hits-empty">\n              '.concat(CONFIG.i18n.empty.replace(/\$\{query}/,e.query),"\n            </div>")}},cssClasses:{list:"search-result-list"}}),instantsearch.widgets.pagination({container:".algolia-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="fa fa-angle-double-left"></i>',last:'<i class="fa fa-angle-double-right"></i>',previous:'<i class="fa fa-angle-left"></i>',next:'<i class="fa fa-angle-right"></i>'},cssClasses:{list:["pagination","algolia-pagination"],item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),s.start(),document.querySelectorAll(".popup-trigger").forEach(function(e){e.addEventListener("click",function(){document.body.classList.add("search-active"),setTimeout(function(){return document.querySelector(".search-input").focus()},500)})});function n(){document.body.classList.remove("search-active")}document.querySelector(".search-pop-overlay").addEventListener("click",function(e){e.target===document.querySelector(".search-pop-overlay")&&n()}),document.querySelector(".popup-btn-close").addEventListener("click",n),document.addEventListener("pjax:success",n),window.addEventListener("keyup",function(e){"Escape"===e.key&&n()})});